<!doctype html>
<!--

    Openning this file in your browser will prime sessionStorage and then redirect to duels/index.html

-->

<html lang="en">
    <head>
        <script>
            function primeAndRedirect() {
                const ourWizardId = 1234;
                const opposingWizardId = 1000;

                sessionStorage.setItem('mode', 'offline');
                sessionStorage.setItem('ourWizardId', ourWizardId);
                sessionStorage.setItem('opposingWizardId', opposingWizardId);

                const duel = {
                    action: "challenge", // TODO: is this correct?
                    isValidPartner: true, // TODO
                    name: "Offline Duel Simulation",
                    roomId: null,
                    wizardChallenged: {
                        affinity: 2,
                        createdBlockNumber: 7780479,
                        id: "1234",
                        image: "https://storage.googleapis.com/cheeze-wizards-production/0xec2203e38116f09e21bc27443e063b623b01345a/1353.svg",
                        initialPower: "100973404296275",
                        optimalOpponent: "Wind",
                        owner: "0x33Ec2fEd3E429a515ccDf361554f102eA36e0CEB",
                        power: "100973404296275",
                        specialPower: "Fire",
                        vulnerability: "Water",
                    },
                    wizardChallenging: {
                        affinity: 2,
                        createdBlockNumber: 7780479,
                        id: "1000",
                        image: "https://storage.googleapis.com/cheeze-wizards-production/0xec2203e38116f09e21bc27443e063b623b01345a/1353.svg",
                        initialPower: "100973404296275",
                        optimalOpponent: "Water",
                        owner: "0x33Ec2fEd3E429a515ccDf361554f102eA36e0CEB",
                        power: "200973404296275",
                        specialPower: "Wind",
                        vulnerability: "Fire",
                    },
                };

                sessionStorage.setItem('duel', JSON.stringify(duel));

                window.location.href = '/duels';
            };
        </script>
    </head>
    <body onload="primeAndRedirect();">
        <span>Should redirect...</span>
    </body>
</html>
